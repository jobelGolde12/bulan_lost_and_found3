import{_ as A,r as i,j as _,c as a,o as l,a as f,b as t,u as c,m as k,w as h,t as C,F as y,s as L,I as S,h as D,W as N}from"./app-DhelKfHf.js";import{A as B}from"./AuthenticatedLayout-XSvHsR-E.js";import{A as O}from"./AnnouncementCard-Bi8RIN_U.js";import"./lost_and_found_logo-Bi2rL7qL.js";/* empty css                                                                     */const F={class:"main-container bg-light container-fluid py-4"},I={class:"header-container d-flex flex-wrap justify-content-between align-items-center mb-4"},M={class:"d-flex flex-wrap align-items-center gap-3"},V={key:0,class:"row d-flex flex-row mx-auto announcement-grid g-3"},j={key:1,class:"text-center py-5"},T={key:0,class:"text-muted"},W={__name:"Announcement",props:{ann:{type:Array,default:()=>[]}},setup(g){const p=g;let o=i([]);i("");let s=i(null);const r=i("latest"),m=i("all"),b=()=>{let n=[...p.ann];m.value==="viewed"?n=n.filter(e=>e.read_status===1):m.value==="unviewed"&&(n=n.filter(e=>e.read_status===0)),n.sort((e,u)=>{const d=new Date(e.created_at),v=new Date(u.created_at);return r.value==="latest"?v-d:d-v}),o.value=n},x=()=>{r.value=r.value==="latest"?"oldest":"latest",b()};_(()=>p.ann,()=>{b()},{immediate:!0});const w=()=>{s.value&&N.delete(route("settings.announcement.destroy",{id:s.value}),{onSuccess:()=>{o.value=o.value.filter(n=>n.id!=s.value),setTimeout(()=>{alert("Deleted successfully...")},1e3)}})};return(n,e)=>(l(),a(y,null,[f(c(k),{title:"Announcements"}),f(B,null,{default:h(()=>[t("div",F,[t("div",I,[e[2]||(e[2]=t("h1",{class:"text-dark fw-light mb-3 mb-md-0"},"Announcements",-1)),t("div",M,[t("div",{class:"sort-btn text-dark fs-6 pointer d-flex align-items-center",onClick:x,title:"Sort announcements"},[e[1]||(e[1]=t("i",{class:"bi bi-sort-down me-2"},null,-1)),t("span",null,C(r.value==="latest"?"Latest → Oldest":"Oldest → Latest"),1)])])]),c(o).length?(l(),a("div",V,[(l(!0),a(y,null,L(c(o),u=>(l(),a("div",{key:u.id,class:"col-12 col-6"},[f(O,{announcement:u,selected:c(s),"onUpdate:selected":e[0]||(e[0]=d=>S(s)?s.value=d:s=d)},null,8,["announcement","selected"])]))),128))])):(l(),a("div",j,[e[3]||(e[3]=t("h4",null,"No announcements found.",-1)),m.value!=="all"?(l(),a("p",T," Try changing your filter settings. ")):D("",!0)]))])]),_:1}),t("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",{class:"modal-dialog"},[t("div",{class:"modal-content"},[e[5]||(e[5]=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Delete Announcement"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[6]||(e[6]=t("div",{class:"modal-body"}," Are you sure you want to delete the announcement? ",-1)),t("div",{class:"modal-footer"},[e[4]||(e[4]=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," No ",-1)),t("button",{type:"button",class:"btn btn-danger",onClick:w,"data-bs-dismiss":"modal"}," Yes ")])])])])],64))}},z=A(W,[["__scopeId","data-v-52a35cc2"]]);export{z as default};
