import{l as O}from"./lost_and_found_logo-Bi2rL7qL.js";import{x as k,r as y,l as _,j as A,y as I,c as p,o as d,b as e,a as c,f as R,h as f,w as o,n as i,u as t,P as r,t as h,_ as q,i as P,p as B,J as H}from"./app-CkqW5iWM.js";/* empty css                                                                     */const C={class:"sidebar w-100 px-0 px-0",style:{transform:"translateY(-5%)"}},L={class:"list mt-4"},M={key:0,class:"pending-badge"},$={__name:"LayoutRoutes",props:{isHavePending:{type:Boolean,default:!1},announcement:{type:Array,default:()=>[]}},setup(x){var v;const u=k().url,g=x,w=y(!1),m=_(()=>g.announcement.length-1||0);A(()=>g.isHavePending,s=>{w.value=s}),(v=k().props.auth)==null||v.user;const b=y(localStorage.getItem("isSidebarOpen")==="true");return I(()=>{b.value=localStorage.getItem("isSidebarOpen")==="true"}),(s,l)=>(d(),p("div",null,[e("div",C,[e("div",L,[c(t(r),{href:s.route("dashboard"),class:i({active:t(u)==="/dashboard"})},{default:o(()=>l[0]||(l[0]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-journal-text link"})],-1),e("span",null,"Reports",-1)])),_:1},8,["href","class"]),c(t(r),{href:s.route("reportItem"),class:i({active:t(u)==="/report-item"})},{default:o(()=>l[1]||(l[1]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-pencil-square link"})],-1),e("span",null,"Post",-1)])),_:1},8,["href","class"]),l[7]||(l[7]=e("hr",null,null,-1)),c(t(r),{href:s.route("settings.index"),class:i({active:t(u)===s.route("settings.index")})},{default:o(()=>l[2]||(l[2]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-gear link"})],-1),e("span",null,"Settings",-1)])),_:1},8,["href","class"]),c(t(r),{href:s.route("message.index"),class:i({active:t(u)===s.route("settings.index")})},{default:o(()=>l[3]||(l[3]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-chat-dots link"})],-1),e("span",null,"Message",-1)])),_:1},8,["href","class"]),c(t(r),{href:s.route("settings.announcements"),class:i(["nav-link d-flex align-items-center p-2 rounded text-decoration-none text-dark",{"bg-success text-white":t(u)==="/settings/announcements"}])},{default:o(()=>[l[4]||(l[4]=e("i",{class:"bi bi-megaphone me-2"},null,-1)),l[5]||(l[5]=e("span",null,"Announcements",-1)),m.value?(d(),p("span",M,h(m.value),1)):f("",!0)]),_:1},8,["href","class"]),g.isHavePending?(d(),R(t(r),{key:0,href:s.route("my.pending"),class:i([{active:t(u)===s.route("my.pending")},"btn btn-primary bg-primary text-light"]),type:"button"},{default:o(()=>l[6]||(l[6]=[e("span",{class:"spinner-grow spinner-grow-sm me-2",role:"status","aria-hidden":"true"},null,-1),e("span",null,"Pending Requests",-1)])),_:1},8,["href","class"])):f("",!0)])])]))}},N={class:"main-container bg-light d-flex flex-row justify-content-between align-items-center"},V={class:"d-flex flex-row justify-content-between align-items-center"},z={class:"mb-0 d-block name"},D={class:"list mt-4"},E={key:0},F={key:0},J={key:0},Y={key:0,class:"has-message"},G={key:0,class:"ms-2"},K={key:0},Q={key:1,class:"pending-badge"},T={class:"offcanvas offcanvas-start",tabindex:"-1",id:"openSidebar","aria-labelledby":"openSidebarLabel"},U={class:"offcanvas-header"},W={class:"mb-0 d-block name"},X={class:"offcanvas-body"},Z={__name:"AuthenticatedLayout",props:{isHavePending:{type:Boolean,default:!1},announcement:{type:Array,default:()=>[]}},setup(x){var S;const u=k().url,g=x,w=y(!1),m=_(()=>g.announcement.length-1||0),b=y(0);A(()=>g.isHavePending,n=>{w.value=n});const v=(S=k().props.auth)==null?void 0:S.user,s=y(localStorage.getItem("isSidebarOpen")==="true"),l=()=>{s.value=!s.value,localStorage.setItem("isSidebarOpen",s.value)},j=async()=>{try{const n=await H.get("/message/has");console.log("has message response:",n.data),b.value=typeof n.data=="object"?n.data.unique_senders||n.data.count||0:n.data}catch(n){console.error("An error while checking if has message",n)}};return I(()=>{s.value=localStorage.getItem("isSidebarOpen")==="true",j()}),(n,a)=>(d(),p("div",N,[e("div",{class:i(["sidebar d-none d-lg-block",{closed:!s.value}]),style:P({width:s.value?"250px":"5%",padding:s.value?"20px":"0"})},[e("div",V,[s.value?(d(),R(t(r),{key:0,href:n.route("profile"),class:"pointer user-name text-dark text-decoration-none d-flex flex-column gap-0"},{default:o(()=>[e("span",z,h(t(v).name),1),a[0]||(a[0]=e("span",{class:"text-success text-lighter text-sm d-block user-text"},"user",-1))]),_:1},8,["href"])):f("",!0),e("div",{class:i(["bi bi-list pointer text-dark fw-bolder fs-3",{"mt-3 mx-auto":!s.value}]),onClick:l},null,2)]),e("div",D,[c(t(r),{href:n.route("dashboard"),class:i({active:t(u)==="/dashboard"})},{default:o(()=>[e("div",{class:i({"icon-container":!s.value})},a[1]||(a[1]=[e("i",{class:"bi bi-journal-text link"},null,-1)]),2),s.value?(d(),p("span",E,"Reports")):f("",!0)]),_:1},8,["href","class"]),c(t(r),{href:n.route("reportItem"),class:i({active:t(u)==="/report-item"})},{default:o(()=>[e("div",{class:i({"icon-container":!s.value})},a[2]||(a[2]=[e("i",{class:"bi bi-pencil-square link"},null,-1)]),2),s.value?(d(),p("span",F,"Post")):f("",!0)]),_:1},8,["href","class"]),a[6]||(a[6]=e("hr",null,null,-1)),c(t(r),{href:n.route("settings.index"),class:i({active:t(u)===n.route("settings.index")})},{default:o(()=>[e("div",{class:i({"icon-container":!s.value})},a[3]||(a[3]=[e("i",{class:"bi bi-gear link"},null,-1)]),2),s.value?(d(),p("span",J,"Settings")):f("",!0)]),_:1},8,["href","class"]),c(t(r),{href:n.route("message.index"),class:i([{active:t(u)===n.route("message.index")},"position-relative d-flex align-items-center"])},{default:o(()=>[e("div",{class:i([{"icon-container":!s.value},"position-relative"])},[a[4]||(a[4]=e("i",{class:"bi bi-chat-dots link"},null,-1)),b.value>0?(d(),p("span",Y,h(b.value),1)):f("",!0)],2),s.value?(d(),p("span",G,"Message")):f("",!0)]),_:1},8,["href","class"]),c(t(r),{href:n.route("settings.announcements"),class:i(["nav-link d-flex align-items-center p-2 rounded text-decoration-none text-dark",{"bg-success text-white":t(u)==="/settings/announcements"}])},{default:o(()=>[a[5]||(a[5]=e("i",{class:"bi bi-megaphone me-2"},null,-1)),s.value?(d(),p("span",K,"Announcements")):f("",!0),m.value?(d(),p("span",Q,h(m.value),1)):f("",!0)]),_:1},8,["href","class"])])],6),e("main",{style:P({width:s.value?"80%":"95%"}),class:"right"},[a[7]||(a[7]=e("div",{class:"container-fluid d-flex justify-content-between align-items-center mt-3 d-block d-lg-none"},[e("div",null,[e("i",{class:"bi bi-list fs-1","data-bs-toggle":"offcanvas","data-bs-target":"#openSidebar","aria-controls":"openSidebar"})]),e("div",null,[e("img",{src:O,alt:"",class:"profile"})])],-1)),B(n.$slots,"default",{},void 0,!0)],4),e("div",T,[e("div",U,[c(t(r),{href:n.route("profile"),class:"pointer user-name text-dark text-decoration-none d-flex flex-column gap-0"},{default:o(()=>[e("span",W,h(t(v).name),1),a[8]||(a[8]=e("span",{class:"text-success text-lighter text-sm d-block admin-text"},"user",-1))]),_:1},8,["href"]),a[9]||(a[9]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1))]),e("div",X,[e("div",null,[c($)])])])]))}},ne=q(Z,[["__scopeId","data-v-95bb8145"]]);export{ne as A};
