import{_ as k,r as g,j as m,l as x,c as i,o as f,b as e,k as M,A as O,u as C,I as N,h as Y,F as $,s as L,t as u,n as S,W as I}from"./app-BVOfK1M-.js";/* empty css                                                                 */const U={class:"container-fluid mt-5 px-0"},F={class:"card border-0"},R={class:"card-body"},B={class:"header-container d-flex mb-3 container-fluid justify-content-between"},T={class:"search-container"},V={class:"table-container"},W={class:"table"},j=["onClick"],q={key:0},z={class:"mt-3 text-muted small"},E={__name:"Unsolved",props:{unSolved:{type:Array,default:()=>[]}},setup(w){const b=w,_=a=>{if(!a)return"N/A";const s={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString(void 0,s)},A=a=>{if(!a)return"N/A";const s=new Date(a),t=new Date-s,n=Math.floor(t/(1e3*60*60*24));if(n<1)return"Today";if(n===1)return"1 day ago";if(n<7)return`${n} days ago`;const r=Math.floor(n/7);if(r<4)return`${r} week${r>1?"s":""} ago`;const d=Math.floor(n/30);if(d<12)return`${d} month${d>1?"s":""} ago`;const c=Math.floor(n/365);return`${c} year${c>1?"s":""} ago`};let v=g([]),l=g("");m(()=>b.unSolved,a=>{v.value=a||[]},{immediate:!0});const h=x(()=>{const a=l.value.toLowerCase(),s=new Date;return s.setFullYear(s.getFullYear()-1),v.value.filter(t=>t!=null&&t.created_at?new Date(t.created_at)<=s:!1).filter(t=>{var c,p,y;const n=(c=t==null?void 0:t.title)==null?void 0:c.toLowerCase().includes(a),r=(p=_(t==null?void 0:t.created_at))==null?void 0:p.toLowerCase().includes(a),d=(y=t==null?void 0:t.status)==null?void 0:y.toLowerCase().includes(a);return n||r||d})}),D=a=>{I.visit(route("viewItemInfoAsAdmin",{item:a}))};return(a,s)=>(f(),i("div",U,[e("div",F,[e("div",R,[e("div",B,[s[1]||(s[1]=e("h5",{class:"card-title"},"All Unsolved Reports",-1)),e("div",T,[M(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>N(l)?l.value=o:l=o),type:"text",class:"form-control search",placeholder:"Search by name, date, or status..."},null,512),[[O,C(l)]])])]),e("div",V,[e("table",W,[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Status"),e("th",null,"Date"),e("th",null,"Since")])],-1)),e("tbody",null,[(f(!0),i($,null,L(h.value,(o,t)=>(f(),i("tr",{key:o.id||t,onClick:n=>D(o.id),class:"clickable-row"},[e("td",null,u(o.title||"N/A"),1),e("td",null,[e("span",{class:S(`badge ${o.status==="Lost"?"bg-danger":"bg-success"}`)},u(o.status||"N/A"),3)]),e("td",null,u(_(o.created_at)),1),e("td",null,u(A(o.created_at)),1)],8,j))),128)),h.value.length===0?(f(),i("tr",q,s[2]||(s[2]=[e("td",{colspan:"4",class:"text-center text-muted"}," No Unsolved Reports older than 1 year. ",-1)]))):Y("",!0)])])]),e("div",z," Showing "+u(h.value.length)+" items that are 1 year or older and not claimed ",1)])])]))}},H=k(E,[["__scopeId","data-v-f4152601"]]);export{H as default};
