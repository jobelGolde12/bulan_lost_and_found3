import{r as y,j as f,c as o,o as s,b as e,F as g,s as T,t as d,u as i,W as p,_ as v,a as u,m as k,w as _}from"./app-BVOfK1M-.js";import{A as x}from"./AdminSettingsLayout-DQi_rZ3b.js";import{T as w}from"./TrashLayout-CFfQNsPz.js";import"./TrashLayout.vue_vue_type_style_index_0_scoped_983a241b_lang-f8FWa1dB.js";import"./index-C56RKwgP.js";import"./index-09AjRV5V.js";const C={class:"table table-bordered table-striped"},D={class:"d-flex align-items-center gap-2"},$=["onClick"],S=["onClick"],F={__name:"AnnouncementTrashedTable",props:{data:{type:Object,default:()=>({})}},setup(m){const h=m;let a=y([]);f(()=>h.data,t=>{a.value=Array.isArray(t)?t:[]},{immediate:!0});const l=t=>{const r={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString(void 0,r)},c=t=>{p.put(route("announcementTrashed.restore",{id:t}),{},{onSuccess:()=>alert("Annoucement restored."),onError:r=>console.log("An error occured while restoring data: ",r)})},A=t=>{confirm("This action can delete the announcement permanently, are you sure you want to proceed?")&&p.delete(route("announcementTrashed.delete",{id:t}),{},{onSuccess:alert("Announcement deleted."),onError:()=>alert("An error while deleting announcement, please try again")})};return(t,r)=>(s(),o("div",null,[e("table",C,[r[0]||(r[0]=e("thead",{class:""},[e("tr",null,[e("th",null,"User ID"),e("th",null,"Title"),e("th",null,"Content"),e("th",null,"Created At"),e("th",null,"Action")])],-1)),e("tbody",null,[(s(!0),o(g,null,T(i(a),n=>(s(),o("tr",{key:n.id},[e("td",null,d(n.user_id),1),e("td",null,d(n.title),1),e("td",null,d(n.content),1),e("td",null,d(l(n.created_at)),1),e("td",D,[e("button",{class:"btn btn-secondary",onClick:b=>c(n.id)},"Restore",8,$),e("button",{class:"btn btn-warning",onClick:b=>A(n.id)},"Delete",8,S)])]))),128))])])]))}},L={class:"announcement-trash-container p-4"},j={key:0},B={key:1,class:"container mt-5 text-center"},E={__name:"AnnouncementTrashed",props:{trashedAnnouncements:{type:Object,default:()=>({})}},setup(m){const h=m;let a=y([]);return f(()=>h.trashedAnnouncements,l=>{a.value=Array.isArray(l)?l:[]},{immediate:!0}),(l,c)=>(s(),o("div",null,[u(i(k),{title:"View Announcement Trashed"}),u(x,null,{default:_(()=>[u(w,null,{default:_(()=>[e("div",L,[i(a).length>0?(s(),o("div",j,[u(F,{data:i(a)},null,8,["data"])])):(s(),o("div",B,c[0]||(c[0]=[e("p",{class:"text-muted"},"No trashed announcements found.",-1)])))])]),_:1})]),_:1})]))}},q=v(E,[["__scopeId","data-v-e5418a87"]]);export{q as default};
