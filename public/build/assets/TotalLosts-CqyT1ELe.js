import{_ as D,r as g,j as b,l as k,c as i,o as u,b as e,k as x,A,u as M,I as N,h as $,F as C,s as T,t as f,W as Y}from"./app-BB0yyVeW.js";/* empty css                                                                   */const F={class:"container-fluid mt-5 px-0"},I={class:"card border-0"},S={class:"card-body"},W={class:"header-container d-flex mb-3 container-fluid justify-content-between"},B={class:"search-container"},O={class:"table-container"},R={class:"table"},V=["onClick"],j={key:0},q={class:"mt-3 text-muted small"},E={__name:"TotalLosts",props:{totalLosts:{type:Array,default:()=>[]}},setup(w){const _=w;console.log("lost: ",JSON.stringify(_.totalLosts));const p=o=>{if(!o)return"N/A";const s={year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString(void 0,s)},m=o=>{const s=new Date(o),d=new Date-s,a=Math.floor(d/(1e3*60*60*24));if(a<1)return"Today";if(a===1)return"1 day ago";if(a<7)return`${a} days ago`;const r=Math.floor(a/7);if(r<4)return`${r} week${r>1?"s":""} ago`;const l=Math.floor(a/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(a/365);return`${c} year${c>1?"s":""} ago`};let v=g([]),n=g("");b(()=>_.totalLosts,o=>{v.value=o||[]},{immediate:!0});const h=k(()=>{const o=n.value.toLowerCase(),s=new Date;return s.setFullYear(s.getFullYear()-1),v.value.filter(t=>{var c,y;if(!(new Date(t==null?void 0:t.created_at)>=s))return!1;const r=(c=t==null?void 0:t.title)==null?void 0:c.toLowerCase().includes(o),l=(y=p(t==null?void 0:t.created_at))==null?void 0:y.toLowerCase().includes(o);return r||l})}),L=o=>{Y.visit(route("viewItemInfoAsAdmin",{item:o}))};return(o,s)=>(u(),i("div",F,[e("div",I,[e("div",S,[e("div",W,[s[1]||(s[1]=e("h5",{class:"card-title"},"All Lost Reports",-1)),e("div",B,[x(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>N(n)?n.value=t:n=t),type:"text",class:"form-control search",placeholder:"Search by name or date..."},null,512),[[A,M(n)]])])]),e("div",O,[e("table",R,[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Date"),e("th",null,"Since")])],-1)),e("tbody",null,[(u(!0),i(C,null,T(h.value,(t,d)=>(u(),i("tr",{key:t.id||d,onClick:a=>L(t.id),class:"clickable-row"},[e("td",null,f(t.title||"N/A"),1),e("td",null,f(p(t.created_at)),1),e("td",null,f(m(t.created_at)),1)],8,V))),128)),h.value.length===0?(u(),i("tr",j,s[2]||(s[2]=[e("td",{colspan:"3",class:"text-center text-muted"},"No Lost Item Found.",-1)]))):$("",!0)])])]),e("div",q," Showing "+f(h.value.length)+" items that are lost. ",1)])])]))}},U=D(E,[["__scopeId","data-v-f8d9e452"]]);export{U as default};
