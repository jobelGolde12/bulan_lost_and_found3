import{_ as k,r as s,l as F,j as b,y as D,c as p,o as v,b as a,k as I,t as C,at as U,i as j,F as x,s as A,D as H,W as M,C as T,a as f,u as L,m as K,w as N,h as E,H as G,A as J}from"./app-BB0yyVeW.js";import{A as O}from"./AdminLayout-CC1qg2sF.js";import{C as P,F as Q}from"./CategoriesList-CgvhrIsS.js";import{I as R}from"./ItemCardForAdmin-DGU0zuos.js";import"./lost_and_found_logo-Bi2rL7qL.js";const X={class:"container-fluid mt-3 d-flex flex-row justify-content-between align-items-center"},Y={class:"d-flex gap-2"},Z={class:"auto-width-select-wrapper"},ee={disabled:"",value:""},te=["value"],oe={__name:"FIlterByLocation",props:{locations:{type:Array,default:()=>[]},currentLocation:{type:String}},setup(h){const o=h,d=s(""),g=s(null),c=s(150),y=F(()=>{const n=o.locations.find(r=>r.id===d.value);return(n==null?void 0:n.name)||o.currentLocation||"Location"}),m=async()=>{await H(),g.value&&(c.value=g.value.offsetWidth+40)};b(y,m),D(m);const l=n=>{n&&M.get(route("filterByLocation",{id:n}))};return(n,r)=>(v(),p("div",X,[a("div",Y,[a("div",Z,[a("span",{ref_key:"textSizer",ref:g,class:"text-sizer"},C(y.value),513),I(a("select",{name:"filter",id:"filter",class:"form-control bg-light mt-2 auto-width-select","onUpdate:modelValue":r[0]||(r[0]=u=>d.value=u),onChange:r[1]||(r[1]=u=>l(d.value)),style:j({width:c.value+"px"})},[a("option",ee,C(h.currentLocation||"Location"),1),(v(!0),p(x,null,A(o.locations,u=>(v(),p("option",{key:u.id,value:u.id},C(u.name),9,te))),128))],36),[[U,d.value]])])])]))}},ae=k(oe,[["__scopeId","data-v-b1c6e68d"]]),se={class:"main-container bg-light"},ne={class:"container-fluid mt-4 d-flex flex-row justify-content-between align-items-center"},le={class:"search-bar input-group mb-3"},re={key:0,id:"categories"},ie=["value"],ce={class:"d-flex gap-2 align-items-center"},ue={class:"w-[15]"},de={__name:"Home",props:{categories:{type:Array,default:[]},items:{type:Array,default:[]},role:{type:String,default:""},locations:{type:Array,default:()=>[]},currentLocation:{type:String,default:"Location"}},setup(h){const o=h,d=s(o.items.map(e=>e.title)),g=s([{id:"",name:"All",status:"all"},...o.categories]),c=s(""),y=s("all"),m=T({query:""}),l=s([...o.items]),n=s([]),r=s("Location");s(!1);const u=F(()=>[...new Set(l.value.map(e=>e.category))]),w=()=>{l.value=o.items.filter(e=>{const t=o.categories.find(z=>z.id===e.category_id),i=t?t.name:"",_=c.value===""||i===c.value,V=y.value==="all"||e.status===y.value,W=!m.query||e.title.toLowerCase().includes(m.query.toLowerCase());return _&&V&&W})},B=e=>{e==="All"||e===""?l.value=[...o.items]:l.value=o.items.filter(t=>t.category===e)};b(()=>o.locations,e=>{n.value=e},{immediate:!0}),b(()=>o.currentLocation,e=>{r.value=e||0},{immediate:!0});const $=e=>{c.value=e,B(e)},q=e=>{y.value=e,w()},S=()=>{w()};return(e,t)=>(v(),p(x,null,[f(L(K),{title:"Dashboard"}),f(O,null,{default:N(()=>[a("div",se,[a("div",ne,[t[4]||(t[4]=a("div",{class:"logo d-none d-sm-block d-lg-block"},"Lost And Found",-1)),a("div",le,[I(a("input",{type:"text",class:"bg-light",placeholder:"Search...","aria-label":"Search",list:"categories",style:{outline:"none"},"onUpdate:modelValue":t[0]||(t[0]=i=>L(m).query=i),onKeyup:G(S,["enter"])},null,544),[[J,L(m).query]]),d.value?(v(),p("datalist",re,[(v(!0),p(x,null,A(d.value,(i,_)=>(v(),p("option",{value:i,key:_},null,8,ie))),128))])):E("",!0),a("button",{class:"btn btn-dark",type:"button",onClick:S},t[3]||(t[3]=[a("i",{class:"bi bi-search"},null,-1)]))])]),f(P,{categories:g.value,currentItem:u.value,onCategorySelected:$},null,8,["categories","currentItem"]),a("div",ce,[a("div",ue,[f(ae,{locations:n.value,currentLocation:r.value},null,8,["locations","currentLocation"])]),f(Q,{onFilterSelected:q,role:o.role,items:l.value,"onUpdate:items":t[1]||(t[1]=i=>l.value=i),category:c.value,"onUpdate:category":t[2]||(t[2]=i=>c.value=i)},null,8,["role","items","category"])]),f(R,{items:l.value},null,8,["items"])])]),_:1})],64))}},ge=k(de,[["__scopeId","data-v-5655b63f"]]);export{ge as default};
