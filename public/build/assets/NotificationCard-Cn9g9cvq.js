import{_ as k,r as u,j as D,c as o,o as i,h as f,b as t,t as c,F as N,s as C,g as S,W as l}from"./app-BVOfK1M-.js";const j={key:0,class:"alert alert-success text-center",role:"alert"},A={class:"notification-container d-flex flex-wrap gap-3"},B={class:"flex-grow-1"},L={class:"d-flex justify-content-between align-items-start mb-1"},V={class:"d-flex flex-row gap-1"},F={class:"w-100"},M={class:"mb-1 fw-bold text-dark fs-5"},P={class:"text-muted"},R={key:0,class:"not-read ms-2"},W={class:"mb-2 text-muted",style:{"font-size":"0.95rem"}},q=["onClick"],z={__name:"NotificationCard",props:{notification:{type:Array,default:()=>[]}},setup(p){const v=p,a=u([]),h=u(""),g=u(!1);D(()=>v.notification,s=>{a.value=s},{immediate:!0});const w=async(s,r,e,d,n)=>{const x=d.toLowerCase();if(e===0&&(await l.put(route("settings.modifyReadStatus",{notification:r}),{},{preserveScroll:!0}),a.value[s].read_status=1),!n){alert("No associated item for this notification.");return}const _={resolved:()=>{alert("Your reported item has been marked as resolved. Thank you for using our service!")},"face to face verification":()=>{l.get(route("face.to.face",{id:n}))},approved:()=>{l.get(route("viewItemInfo",{item:n}))},denied:()=>{l.get(route("deniedRequests.index",{itemId:n}))}},m=Object.keys(_).find(b=>x.includes(b));m?_[m]():alert("No redirect page defined for this title.")},y=s=>{const r={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString(void 0,r)};return(s,r)=>(i(),o("div",null,[g.value?(i(),o("div",j,c(h.value),1)):f("",!0),t("div",A,[(i(!0),o(N,null,C(a.value,(e,d)=>(i(),o("div",{class:"card p-3 rounded w-100 py-4",style:{"max-width":"90%"},key:e.id},[t("div",B,[t("div",L,[t("div",V,[t("div",F,[t("h6",M,c(e.title),1),t("small",P,c(y(e.created_at)),1)]),e.read_status==0&&!(e!=null&&e.title.includes("Post Deleted"))?(i(),o("div",R)):f("",!0)])]),t("p",W,c(e.message),1),t("div",null,[!(e!=null&&e.title.includes("Post Deleted"))||!(e!=null&&e.title.includes("Approved"))?(i(),o("a",{key:0,href:"#",class:"text-decoration-none fw-bold btn btn-primary",onClick:S(n=>w(d,e.id,e.read_status,e.title,e.item_id),["prevent"])}," View ",8,q)):f("",!0)])])]))),128))])]))}},I=k(z,[["__scopeId","data-v-4a8b313d"]]);export{I as N};
