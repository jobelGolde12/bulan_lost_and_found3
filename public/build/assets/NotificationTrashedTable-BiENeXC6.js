import{r as y,j as _,c as r,o as a,u as i,b as t,F as g,s as m,t as l,W as c}from"./app-BVOfK1M-.js";const k={key:0,class:"table table-bordered table-striped mt-5 table-responsive"},T={class:"d-flex align-items-center gap-2"},v=["onClick"],A=["onClick"],C={key:1,class:"container text-center text-muted"},w={__name:"NotificationTrashedTable",props:{data:{type:Object,default:()=>({})}},setup(d){const u=d;let s=y([]);_(()=>u.data,e=>{s.value=Array.isArray(e)?e:[]},{immediate:!0});const h=e=>{const n={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString(void 0,n)},f=e=>{c.put(route("notificationTrashed.restore",{id:e}),{},{onSuccess:()=>alert("Notification restored."),onError:n=>console.log("An error occured while restoring data: ",n)})},p=e=>{confirm("This action can delete the notification permanently, are you sure you want to proceed?")&&c.delete(route("notificationTrashed.delete",{id:e}),{},{onSuccess:alert("Notification deleted."),onError:()=>alert("An error while deleting notification, please try again")})};return(e,n)=>(a(),r("div",null,[i(s).length>0?(a(),r("table",k,[n[0]||(n[0]=t("thead",{class:""},[t("tr",null,[t("th",null,[t("small",null,"User ID")]),t("th",null,"Title"),t("th",null,"Content"),t("th",null,"Created At"),t("th",null,"Action")])],-1)),t("tbody",null,[(a(!0),r(g,null,m(i(s),o=>(a(),r("tr",{key:o.id},[t("td",null,l(o.user_id),1),t("td",null,l(o.title),1),t("td",null,l(o.message),1),t("td",null,l(h(o.created_at)),1),t("td",T,[t("button",{class:"btn btn-secondary",onClick:b=>f(o.id)},"Restore",8,v),t("button",{class:"btn btn-warning",onClick:b=>p(o.id)},"Delete",8,A)])]))),128))])])):(a(),r("div",C,n[1]||(n[1]=[t("p",null,"No notification trashed found.",-1)])))]))}};export{w as _};
