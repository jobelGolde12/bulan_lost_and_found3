import{_ as w,r as d,j as v,C,c as l,o,a as c,b as e,u as b,m as h,h as u,t as n,e as r,n as x,w as I,P as V,F as N}from"./app-BVOfK1M-.js";import{C as S}from"./CustomModal-DyarA_6m.js";/* empty css                                                                    */const B={class:"container mx-auto"},D={class:"view-item card"},j={key:0},L={class:"card-header"},M=["src"],R={class:"card-body"},A={class:"my-2"},E={key:0},F={class:"container px-0 d-flex flex-row gap-2 mt-2"},O={key:1,class:"text-muted mt-2"},P={key:1},T={__name:"ViewItem",props:{item:{type:Object,default:()=>({})},role:{type:String,default:()=>""}},setup(y){const m=y,s=d({}),_=d("Are you sure you want to delete this item?");d();const p=d();v(()=>m.item,a=>{s.value=a},{immediate:!0}),v(()=>m.role,a=>{p.value=a},{immediate:!0});const f=C({id:s.id}),k=a=>{var t;try{a==="yes"&&f.delete(route("deleteItem",{id:(t=m.item)==null?void 0:t.id}),{onSuccess:()=>alert("Item deleted."),onError:()=>alert("An error occured, please try again.")})}catch(i){alert("item cannot be deleted."),console.error("an error occurred while deleting data => ",i)}};return(a,t)=>{var i,g;return o(),l(N,null,[c(b(h),{title:"View item"}),e("div",B,[e("div",D,[((i=Object.keys(s.value))==null?void 0:i.length)>0?(o(),l("div",j,[e("div",L,[s.value.image_url?(o(),l("img",{key:0,src:s.value.image_url,alt:"Item Image"},null,8,M)):u("",!0)]),e("div",R,[e("h1",A,n(s.value.title||"No name provided"),1),e("p",null,[t[0]||(t[0]=e("strong",null,"Description:",-1)),r(" "+n(s.value.description),1)]),e("p",null,[t[1]||(t[1]=e("strong",null,"Status:",-1)),r(" "+n(s.value.status),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Location:",-1)),r(" "+n(s.value.location),1)]),s.value.category?(o(),l("p",E,[t[3]||(t[3]=e("strong",null,"Category:",-1)),r(" "+n(s.value.category),1)])):u("",!0),e("p",null,[t[4]||(t[4]=e("strong",null,"Created at:",-1)),r(" "+n(new Date(s.value.created_at).toLocaleString()),1)]),e("div",F,[p.value==="admin"?(o(),l("button",{key:0,class:x(["btn btn-warning",{disabled:s.value.status==="Claimed"}]),"data-bs-toggle":"modal","data-bs-target":"#customModal"},t[5]||(t[5]=[e("span",{class:"d-block d-lg-none"},[e("i",{class:"bi bi-trash"})],-1),e("span",{class:"d-none d-lg-inline"},"Delete",-1)]),2)):u("",!0),c(b(V),{href:a.route("profile"),class:"btn btn-dark"},{default:I(()=>t[6]||(t[6]=[e("span",{class:"d-block d-lg-none"},[e("i",{class:"bi bi-arrow-left"})],-1),e("span",{class:"d-none d-lg-inline"},"Back",-1)])),_:1},8,["href"])]),((g=s.value)==null?void 0:g.status)==="Claimed"?(o(),l("div",O,"The claimed item cannot be deleted.")):u("",!0)])])):(o(),l("div",P,t[7]||(t[7]=[e("p",null,"Loading item details...",-1)])))])]),c(S,{name:_.value,id:s.value.id,onResponse:k},null,8,["name","id"])],64)}}},H=w(T,[["__scopeId","data-v-8a5bd1fd"]]);export{H as default};
