import{_ as U,r as u,x as V,j,l as I,c as d,o,a as x,u as i,m as B,w as _,b as e,e as c,t as r,k as w,I as y,A as L,at as S,F as g,s as D,h as M,n as k,f as P,P as R,W as T}from"./app-BVOfK1M-.js";import{A as E}from"./AdminLayout-KqewptlA.js";import"./lost_and_found_logo-Bi2rL7qL.js";const F={class:"p-4 rounded users-container d-flex flex-row justify-content-center align-items-center pt-3"},O={class:"container rounded"},W={class:"header-container container-fluid py-3 d-flex justify-content-between mb-3"},z={class:"w-50"},Q={class:"text-success"},Z={class:"input-group d-flex justify-content-end search-container"},q={class:"container-fluid d-flex justify-content-end mb-3"},G={class:"table-wrapper"},H={class:"table table-responsive align-middle"},J={key:0,class:"bg-success text-light p-1 rounded"},K=["onClick"],X={__name:"Index",props:{users:Object},setup(A){var v,b;const C=A;let m=u([]),a=u(""),n=u(""),p=(b=(v=V().props)==null?void 0:v.auth)==null?void 0:b.user.name;j(()=>C.users,l=>{m.value=l},{immediate:!0});const f=I(()=>{let l=m.value;return a.value.trim()!==""&&(l=l.filter(t=>t.name.toLowerCase().includes(a.value.toLowerCase()))),n.value==="name"?l=[...l].sort((t,s)=>t.name.localeCompare(s.name)):n.value==="role"&&(l=[...l].sort((t,s)=>t.role.localeCompare(s.role))),l});function N(l){T.visit(route("viewUserAsAdmin",{id:l}))}return(l,t)=>(o(),d(g,null,[x(i(B),{title:"view users"}),x(E,null,{default:_(()=>[e("div",F,[e("div",O,[e("div",W,[e("div",z,[t[3]||(t[3]=e("h2",{class:"fw-bold all-users-text"},"All users",-1)),e("p",null,[t[2]||(t[2]=c("Total Users: ")),e("span",Q,r(f.value.length),1)])]),e("div",Z,[t[4]||(t[4]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-search"})],-1)),w(e("input",{type:"text",class:"form-control search",placeholder:"Search by name...","onUpdate:modelValue":t[0]||(t[0]=s=>y(a)?a.value=s:a=s)},null,512),[[L,i(a)]])])]),e("div",q,[w(e("select",{class:"form-select w-auto","onUpdate:modelValue":t[1]||(t[1]=s=>y(n)?n.value=s:n=s)},t[5]||(t[5]=[e("option",{value:"",disabled:""},"Sort by",-1),e("option",{value:"name"},"Name (A-Z)",-1),e("option",{value:"role"},"Role",-1)]),512),[[S,i(n)]])]),e("div",G,[e("table",H,[t[7]||(t[7]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Users Name"),e("th",null,"Role"),e("th",null,"Phone Number"),e("th",null,"Email"),e("th",null,"ID"),e("th",null,"Action")])],-1)),e("tbody",null,[(o(!0),d(g,null,D(f.value,s=>{var h;return o(),d("tr",{key:s.id},[e("td",null,[c(r(s.name)+" ",1),s.name===i(p)?(o(),d("span",J,"Me")):M("",!0)]),e("td",{class:k({"text-success":s.role==="admin"})},r(s.role),3),e("td",null,r(((h=s.info)==null?void 0:h.contact)??"N/A"),1),e("td",null,r(s.email),1),e("td",null,r(s.id),1),e("td",null,[s.role==="admin"?(o(),P(i(R),{key:0,class:"btn btn-success",href:l.route("profile")},{default:_(()=>t[6]||(t[6]=[c("View")])),_:1},8,["href"])):(o(),d("button",{key:1,class:k(["btn btn-success",{disabled:s.name===i(p)}]),onClick:Y=>N(s.id)}," View ",10,K))])])}),128))])])])])])]),_:1})],64))}},se=U(X,[["__scopeId","data-v-5bb77355"]]);export{se as default};
