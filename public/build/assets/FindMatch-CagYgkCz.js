import{_ as x,r as f,j as y,c as d,o as i,a as v,w as A,b as e,u as l,t as g,P as S,l as M,F as I,s as F,n as V,d as D,h as $,W as j,C as q,m as B,k as L,I as P,at as U,H as W,A as K}from"./app-DhelKfHf.js";import{A as z}from"./AdminLayout-CrzI9W1N.js";import"./lost_and_found_logo-Bi2rL7qL.js";const E="/build/assets/arrow2-Cdmad0w_.png",H=["src"],O={class:"text-sm font-medium text-gray-700"},R={__name:"ProfileWithName",props:{id:{type:Number,default:0},name:{type:String,default:""},profile:{type:String,default:""}},setup(h){const _=h;let o=f(""),u=f(""),r=f(0);return y(()=>_.id,a=>{r.value=a},{immediate:!0}),y(()=>_.name,a=>{o.value=a},{immediate:!0}),y(()=>_.profile,a=>{u.value=a},{immediate:!0}),(a,m)=>(i(),d("div",null,[v(l(S),{href:a.route("viewUserAsAdmin",{id:l(r)}),class:"text-decoration-none d-flex align-items-center justify-content-start gap-2 w-50 mt-3"},{default:A(()=>[e("img",{src:l(u)==null?"../../../../images/profile.jpeg":`/storage/${l(u)}`,alt:"User",class:"profile-pic rounded-full"},null,8,H),e("span",O,g(l(o)||"username"),1)]),_:1},8,["href"])]))}},k=x(R,[["__scopeId","data-v-52d8bdd9"]]),T={class:"page-container"},G={class:"container my-5"},J={key:0,class:"text-center py-5"},Q={key:1,class:"scroll-container"},X={class:"card-body position-relative"},Y={class:"row align-items-center"},Z={key:0,class:"col-md-5 text-start"},ee={class:"image-container"},te=["src","onClick"],se={class:"fw-bold fs-5 mt-3"},ae={class:"text-muted small"},oe={class:"col-md-5 text-start"},ne={class:"image-container"},le=["src","onClick"],de={class:"fw-bold fs-5 mt-3"},ie={class:"text-muted small"},re={__name:"FindMatchCard",props:{items:{type:Array,default:()=>[]}},setup(h){const _=h;let o=f([]);y(()=>_.items,a=>{o.value=a,console.log("matched: ",o.value)},{immediate:!0});const u=M(()=>o.value.flatMap(a=>a.matchedLostItems||[])),r=a=>{j.get(route("viewItemInfoAsAdmin",{id:a}))};return(a,m)=>(i(),d("div",T,[e("div",G,[u.value.length===0?(i(),d("div",J,m[0]||(m[0]=[e("h2",{class:"text-muted"},"No Matched Items",-1)]))):(i(),d("div",Q,[(i(!0),d(I,null,F(l(o),(t,p)=>{var s,n,c,b,w,C;return i(),d("div",{key:p,class:V(["card bg-light border-0 mb-4 relative-card",{"lost-gradient":t.status==="Lost","found-gradient":t.status==="Found"}])},[e("div",X,[m[2]||(m[2]=D('<div class="row mb-3" data-v-a7ad8458><div class="col" data-v-a7ad8458><h5 class="text-secondary lost-text" data-v-a7ad8458>Lost</h5></div><div class="col" data-v-a7ad8458><h5 class="text-secondary found-text" data-v-a7ad8458>Found</h5></div></div>',1)),e("div",Y,[t.matchedLostItems.length>0?(i(),d("div",Z,[e("div",ee,[e("img",{src:t.matchedLostItems[0].image_url||"https://via.placeholder.com/100",alt:"Lost Item",class:"mb-2 pointer",onClick:N=>r(t.matchedLostItems[0].id)},null,8,te)]),e("div",se,g(t.matchedLostItems[0].title),1),e("div",ae,g(t.matchedLostItems[0].description),1),v(k,{id:(s=t.matchedLostItems[0])==null?void 0:s.user.id,name:(n=t.matchedLostItems[0])==null?void 0:n.user.name,profile:(c=t.matchedLostItems[0])==null?void 0:c.user.user_info.profile_pic,class:"text-secondary small"},null,8,["id","name","profile"])])):$("",!0),m[1]||(m[1]=e("div",{class:"col-md-2 text-center text-primary"},[e("img",{src:E,alt:"Arrow Icon",style:{"max-width":"100px","max-height":"100px"},class:"mb-2"})],-1)),e("div",oe,[e("div",ne,[e("img",{src:t.foundItem.image_url||"https://via.placeholder.com/100",alt:"Found Item",class:"mb-2 pointer",onClick:N=>r(t.foundItem.id)},null,8,le)]),e("div",de,g(t.foundItem.title),1),e("div",ie,g(t.foundItem.description),1),v(k,{id:(b=t.foundItem)==null?void 0:b.user.id,name:(w=t.foundItem)==null?void 0:w.user.name,profile:(C=t.foundItem)==null?void 0:C.user.user_info.profile_pic,class:"text-secondary small"},null,8,["id","name","profile"])])])])],2)}),128))]))])]))}},ce=x(re,[["__scopeId","data-v-a7ad8458"]]),ue={class:"container-fluid mt-3 d-flex flex-row justify-content-between align-items-center"},me={class:"d-flex flex-row gap-2"},pe={class:"search-bar input-group mt-2"},_e={key:0,id:"categories"},fe=["value"],ve={class:"container-fluid"},he={__name:"FindMatch",props:{matches:{type:Object,default:()=>({})},allItems:Array},setup(h){const _=h;f("");let o=f(""),u=f([]),r=f([]);const a=q({query:""});y(()=>_.matches,p=>{r.value=p,u.value=p.map(s=>s.foundItem.title).filter(Boolean)},{immediate:!0});const m=()=>{o.value&&r.value.sort((p,s)=>{const n=new Date(p.foundItem.reported_at),c=new Date(s.foundItem.reported_at);return o.value==="date_asc"?n-c:c-n})},t=()=>{const p=a.query.toLowerCase();r.value=_.matches.filter(s=>[s.foundItem.title,s.foundItem.description,s.foundItem.location,s.foundItem.category].some(c=>c&&c.toLowerCase().includes(p)))};return(p,s)=>(i(),d(I,null,[v(l(B),{title:"Find match"}),e("div",null,[v(z,null,{default:A(()=>[e("div",ue,[e("div",me,[L(e("select",{name:"filter",id:"filter",class:"form-control bg-light mt-2 date-select","onUpdate:modelValue":s[0]||(s[0]=n=>P(o)?o.value=n:o=n),onChange:m},s[2]||(s[2]=[e("option",{disabled:"",value:""},"Sort by date",-1),e("option",{value:"date_asc"},"Ascending",-1),e("option",{value:"date_desc"},"Descending",-1)]),544),[[U,l(o)]])]),e("div",pe,[L(e("input",{type:"text",class:"bg-light",placeholder:"Search...","aria-label":"Search",list:"categories",style:{outline:"none"},"onUpdate:modelValue":s[1]||(s[1]=n=>l(a).query=n),onKeyup:W(t,["enter"])},null,544),[[K,l(a).query]]),l(u).length>0?(i(),d("datalist",_e,[(i(!0),d(I,null,F(l(u),(n,c)=>(i(),d("option",{value:n,key:c},null,8,fe))),128))])):$("",!0),e("button",{class:"btn btn-dark",type:"button",onClick:t},s[3]||(s[3]=[e("i",{class:"bi bi-search"},null,-1)]))])]),e("div",ve,[e("div",null,[v(ce,{items:l(r)},null,8,["items"])])])]),_:1})])],64))}},xe=x(he,[["__scopeId","data-v-2222a8e6"]]);export{xe as default};
