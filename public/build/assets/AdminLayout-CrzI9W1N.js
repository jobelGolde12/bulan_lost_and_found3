import{l as O}from"./lost_and_found_logo-Bi2rL7qL.js";import{q as j,x as k,r as x,N as M,l as I,y as w,c as p,o as c,b as e,f as $,h as f,w as i,t as m,u as s,P as o,a as r,n as l,J as P,_ as C,i as R,p as L}from"./app-DhelKfHf.js";const A=j("pendingRequest",{state:()=>({count:0}),actions:{setCount(y){this.count=Number(y)||0},increment(){this.count++},decrement(){this.count>0&&this.count--}}}),N={class:"sidebar w-100 px-0 mt-0",style:{transform:"translateY(-10%)"}},B={class:"d-flex flex-row justify-content-between align-items-center"},H={class:"mb-0 d-block name"},F={class:"list mt-4"},V={class:"icon-wrapper"},z={key:0,class:"pending-badge"},U={class:"icon-wrapper"},D={key:0,class:"has-message"},E={__name:"LayoutRoutes",setup(y){var h;const u=k().url,g=(h=k().props.auth)==null?void 0:h.user,a=x(localStorage.getItem("isSidebarOpen")==="true"),{count:S}=M(A()),b=I(()=>S.value||0);let v=x(!1);w(()=>{a.value=localStorage.getItem("isSidebarOpen")==="true"});const _=async()=>{try{const d=await P.get("/message/has");v.value=d.data,console.log("has message: ",v.value)}catch(d){console.log("An error while checking if has message",d)}};return w(()=>{_()}),(d,t)=>(c(),p("div",null,[e("div",N,[e("div",B,[a.value?(c(),$(s(o),{key:0,href:d.route("profile"),class:"pointer user-name text-dark text-decoration-none d-flex flex-column gap-0"},{default:i(()=>[e("span",H,m(s(g).name),1),t[0]||(t[0]=e("span",{class:"text-success text-lighter text-sm d-block admin-text"},"admin",-1))]),_:1},8,["href"])):f("",!0)]),e("div",F,[r(s(o),{href:d.route("dashboard"),class:l({active:s(u)==="/dashboard"})},{default:i(()=>t[1]||(t[1]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-house link"})],-1),e("span",null,"Home",-1)])),_:1},8,["href","class"]),r(s(o),{href:d.route("items"),class:l({active:s(u)==="/items"})},{default:i(()=>t[2]||(t[2]=[e("div",null,[e("i",{class:"bi bi-journal-text link"})],-1),e("span",null,"Reports",-1)])),_:1},8,["href","class"]),r(s(o),{href:d.route("reportItem"),class:l({active:s(u)==="/report-item"})},{default:i(()=>t[3]||(t[3]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-pencil-square link"})],-1),e("span",null,"Post",-1)])),_:1},8,["href","class"]),r(s(o),{href:d.route("viewPendingRequest"),class:l([{active:s(u)==="/view-pending-request"},"nav-link"])},{default:i(()=>[e("div",V,[t[4]||(t[4]=e("i",{class:"bi bi-envelope-paper link"},null,-1)),b.value>0?(c(),p("span",z,m(b.value),1)):f("",!0)]),t[5]||(t[5]=e("span",null,"Requests",-1))]),_:1},8,["href","class"]),r(s(o),{href:d.route("findMatch.index"),class:"icon-wrapper"},{default:i(()=>t[6]||(t[6]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-magic link"})],-1),e("span",null,"Find Match",-1)])),_:1},8,["href"]),t[12]||(t[12]=e("hr",null,null,-1)),r(s(o),{href:d.route("trash.index"),class:l({active:s(u)==="/trash-trash-item"})},{default:i(()=>t[7]||(t[7]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-gear link"})],-1),e("span",null,"Settings",-1)])),_:1},8,["href","class"]),r(s(o),{href:d.route("message.index"),class:l({active:s(u)===d.route("message.index")})},{default:i(()=>[e("div",U,[t[8]||(t[8]=e("i",{class:"bi bi-chat-dots link"},null,-1)),s(v)&&s(v)-1!=0?(c(),p("span",D,m(s(v)-1),1)):f("",!0)]),t[9]||(t[9]=e("span",null,"Message",-1))]),_:1},8,["href","class"]),r(s(o),{href:d.route("view.users"),class:l({active:s(u)==="/view-users"})},{default:i(()=>t[10]||(t[10]=[e("div",{class:"icon-wrapper"},[e("i",{class:"bi bi-people link"})],-1),e("span",null,"Users",-1)])),_:1},8,["href","class"]),r(s(o),{href:d.route("settings.announcements"),class:l(["nav-link d-flex align-items-center p-2 rounded text-decoration-none text-dark",{active:s(u)==="/settings/announcements"}])},{default:i(()=>t[11]||(t[11]=[e("i",{class:"bi bi-megaphone me-2"},null,-1),e("span",null,"Announcement",-1)])),_:1},8,["href","class"])])])]))}},J={class:"main-container bg-light d-flex flex-row justify-content-between align-items-center"},T={class:"d-flex flex-row justify-content-between align-items-center"},W={class:"mb-0 d-block name"},Y={class:"list mt-4"},G={key:0},K={key:0},Q={key:0},X={key:0,class:"pending-badge"},Z={key:0},ee={key:0},se={key:0},te={key:0,class:"has-message"},ae={key:0},ne={key:0},le={key:0},ie={class:"offcanvas offcanvas-start",tabindex:"-1",id:"openSidebar","aria-labelledby":"openSidebarLabel"},oe={class:"offcanvas-header"},re={class:"mb-0 d-block name"},ue={class:"offcanvas-body"},de={__name:"AdminLayout",setup(y){var d;const u=k().url,g=(d=k().props.auth)==null?void 0:d.user,a=x(localStorage.getItem("isSidebarOpen")==="true"),{count:S}=M(A()),b=I(()=>S.value||0);let v=x(!1);const _=()=>{a.value=!a.value,localStorage.setItem("isSidebarOpen",a.value)};w(()=>{a.value=localStorage.getItem("isSidebarOpen")==="true"});const h=async()=>{try{const t=await P.get("/message/has");v.value=t.data}catch(t){console.log("An error while checking if has message",t)}};return w(()=>{h()}),(t,n)=>(c(),p("div",J,[e("div",{class:l(["sidebar d-none d-lg-block",{closed:!a.value,open:a.value}]),style:R({minWidth:a.value?"250px":"5%",padding:a.value?"20px":"0"})},[e("div",T,[a.value?(c(),$(s(o),{key:0,href:t.route("profile"),class:"pointer user-name text-dark text-decoration-none d-flex flex-column gap-0"},{default:i(()=>[e("span",W,m(s(g).name),1),n[0]||(n[0]=e("span",{class:"text-success text-lighter text-sm d-block admin-text"},"admin",-1))]),_:1},8,["href"])):f("",!0),e("div",{class:l(["bi bi-list pointer text-dark fw-bolder fs-3",{"mt-3 mx-auto":!a.value}]),onClick:_},null,2)]),e("div",Y,[r(s(o),{href:t.route("dashboard"),class:l({active:s(u)==="/dashboard"})},{default:i(()=>[e("div",{class:l({"icon-container":!a.value})},n[1]||(n[1]=[e("i",{class:"bi bi-house link"},null,-1)]),2),a.value?(c(),p("span",G,"Home")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("items"),class:l({active:s(u)==="/items"})},{default:i(()=>[e("div",{class:l({"icon-container":!a.value})},n[2]||(n[2]=[e("i",{class:"bi bi-journal-text link"},null,-1)]),2),a.value?(c(),p("span",K,"Reports")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("reportItem"),class:l({active:s(u)==="/report-item"})},{default:i(()=>[e("div",{class:l({"icon-container":!a.value})},n[3]||(n[3]=[e("i",{class:"bi bi-pencil-square link"},null,-1)]),2),a.value?(c(),p("span",Q,"Post")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("viewPendingRequest"),class:l([{active:s(u)==="/view-pending-request"},"nav-link"])},{default:i(()=>[e("div",{class:l([{"icon-container":!a.value},"icon-wrapper"])},[n[4]||(n[4]=e("i",{class:"bi bi-envelope-paper link"},null,-1)),b.value>0?(c(),p("span",X,m(b.value),1)):f("",!0)],2),a.value?(c(),p("span",Z,"Requests")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("findMatch.index"),class:l([{active:s(u)==="/find-match"},"nav-link"])},{default:i(()=>[e("div",{class:l([{"icon-container":!a.value},"icon-wrapper"])},n[5]||(n[5]=[e("i",{class:"bi bi-magic link"},null,-1)]),2),a.value?(c(),p("span",ee,"Find Match")):f("",!0)]),_:1},8,["href","class"]),n[10]||(n[10]=e("hr",null,null,-1)),r(s(o),{href:t.route("settings.index"),class:l({active:s(u)==="/trash-trash-item"})},{default:i(()=>[e("div",{class:l({"icon-container":!a.value})},n[6]||(n[6]=[e("i",{class:"bi bi-gear link"},null,-1)]),2),a.value?(c(),p("span",se,"Settings")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("message.index"),class:l({active:s(u)===t.route("message.index")})},{default:i(()=>{var q;return[e("div",{class:l([{"icon-container":!a.value},"icon-wrapper"])},[n[7]||(n[7]=e("i",{class:"bi bi-chat-dots link"},null,-1)),s(v)&&s(v).unique_senders!=0?(c(),p("span",te,m((q=s(v))==null?void 0:q.unique_senders),1)):f("",!0)],2),a.value?(c(),p("span",ae,"Message")):f("",!0)]}),_:1},8,["href","class"]),r(s(o),{href:t.route("view.users"),class:l({active:s(u)==="/view-users"})},{default:i(()=>[e("div",{class:l({"icon-container":!a.value})},n[8]||(n[8]=[e("i",{class:"bi bi-people link"},null,-1)]),2),a.value?(c(),p("span",ne,"Users")):f("",!0)]),_:1},8,["href","class"]),r(s(o),{href:t.route("settings.announcements"),class:l(["nav-link d-flex align-items-center p-2 rounded text-decoration-none text-dark",{active:s(u)==="/settings/announcements"}])},{default:i(()=>[n[9]||(n[9]=e("i",{class:"bi bi-megaphone me-2"},null,-1)),a.value?(c(),p("span",le,"Announcement")):f("",!0)]),_:1},8,["href","class"])])],6),e("main",{class:l(["right",{"sidebar-open":a.value}]),style:R({width:a.value?"80%":"100%"})},[n[11]||(n[11]=e("div",{class:"container-fluid d-flex justify-content-between align-items-center mt-3 d-block d-lg-none"},[e("div",null,[e("i",{class:"bi bi-list fs-1","data-bs-toggle":"offcanvas","data-bs-target":"#openSidebar","aria-controls":"openSidebar"})]),e("div",null,[e("img",{src:O,alt:"",class:"profile"})])],-1)),L(t.$slots,"default",{},void 0,!0)],6),e("div",ie,[e("div",oe,[r(s(o),{href:t.route("profile"),class:"pointer user-name text-dark text-decoration-none d-flex flex-column gap-0"},{default:i(()=>[e("span",re,m(s(g).name),1),n[12]||(n[12]=e("span",{class:"text-success text-lighter text-sm d-block admin-text"},"admin",-1))]),_:1},8,["href"]),n[13]||(n[13]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1))]),e("div",ue,[e("div",null,[r(E)])])])]))}},fe=C(de,[["__scopeId","data-v-949211b2"]]);export{fe as A,A as u};
