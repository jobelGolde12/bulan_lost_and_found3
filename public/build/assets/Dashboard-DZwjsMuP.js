import{_ as F,r as n,l as A,j as x,y as W,c as d,o as m,b as o,k as I,t as C,at as z,i as P,F as L,s as B,D as j,W as M,C as N,a as y,u as b,m as T,w as K,h as k,H as E,A as G}from"./app-BVOfK1M-.js";import{A as J}from"./AuthenticatedLayout-X_qQ-WKP.js";import{C as O,F as Q}from"./CategoriesList-ClojjHcL.js";import{I as R}from"./ItemCard-Dya0euIZ.js";import"./lost_and_found_logo-Bi2rL7qL.js";/* empty css                                                                     */const X={class:"container-fluid mt-3 d-flex flex-row justify-content-between align-items-center"},Y={class:"d-flex gap-2"},Z={class:"auto-width-select-wrapper"},ee={disabled:"",value:""},te=["value"],ae={__name:"FilteredByLocationFoUser",props:{locations:{type:Array,default:()=>[]},currentLocation:{type:String}},setup(h){const a=h,v=n(""),f=n(null),u=n(150),g=A(()=>{const l=a.locations.find(i=>i.id===v.value);return(l==null?void 0:l.name)||a.currentLocation||"Location"}),p=async()=>{await j(),f.value&&(u.value=f.value.offsetWidth+40)};x(g,p),W(p);const s=l=>{l&&M.get(route("filterByLocationFoUser",{id:l}))};return(l,i)=>(m(),d("div",X,[o("div",Y,[o("div",Z,[o("span",{ref_key:"textSizer",ref:f,class:"text-sizer"},C(g.value),513),I(o("select",{name:"filter",id:"filter",class:"form-control bg-light mt-2 auto-width-select","onUpdate:modelValue":i[0]||(i[0]=r=>v.value=r),onChange:i[1]||(i[1]=r=>s(v.value)),style:P({width:u.value+"px"})},[o("option",ee,C(h.currentLocation||"Location"),1),(m(!0),d(L,null,B(a.locations,r=>(m(),d("option",{key:r.id,value:r.id},C(r.name),9,te))),128))],36),[[z,v.value]])])])]))}},oe=F(ae,[["__scopeId","data-v-8f9ab9d5"]]),se={class:"main-container bg-light"},ne={class:"container-fluid mt-4 d-flex flex-row justify-content-between align-items-center"},le={class:"search-bar input-group mb-3"},ie={key:0,id:"categories"},re=["value"],ce={class:"d-flex gap-2 align-items-center"},ue={class:"w-[15]"},de={key:0,class:"container"},me={__name:"Dashboard",props:{categories:{type:Array,default:[]},items:{type:Array,default:[]},isHavePending:{type:Boolean,default:!1},locations:{type:Array,default:()=>[]},currentLocation:{type:String,default:"Location"}},setup(h){const a=h,v=n(a.items.map(e=>e.title)),f=n([{id:"",name:"All",status:"all"},...a.categories]),u=n(""),g=n("all"),p=N({query:""}),s=n([...a.items]),l=A(()=>[...new Set(s.value.map(e=>e.category))]),i=n([]),r=n("Location"),w=()=>{s.value=a.items.filter(e=>{const t=a.categories.find(V=>V.id===e.category_id),c=t?t.name:"",_=u.value===""||c===u.value,q=g.value==="all"||e.status===g.value,H=!p.query||e.title.toLowerCase().includes(p.query.toLowerCase());return _&&q&&H})},U=e=>{e==="All"||e===""?s.value=[...a.items]:s.value=a.items.filter(t=>t.category===e)};x(()=>a.locations,e=>{i.value=e},{immediate:!0}),x(()=>a.currentLocation,e=>{r.value=e||0},{immediate:!0});const $=e=>{u.value=e,U(e)},D=e=>{g.value=e,w()},S=()=>{w()};return(e,t)=>(m(),d(L,null,[y(b(T),{title:"Dashboard"}),y(J,{isHavePending:a.isHavePending},{default:K(()=>[o("div",se,[o("div",ne,[t[4]||(t[4]=o("div",{class:"logo d-none d-sm-block d-lg-block"},"Lost And Found",-1)),o("div",le,[I(o("input",{type:"text",class:"bg-light",placeholder:"Search...","aria-label":"Search",list:"categories",style:{outline:"none"},"onUpdate:modelValue":t[0]||(t[0]=c=>b(p).query=c),onKeyup:E(S,["enter"])},null,544),[[G,b(p).query]]),v.value?(m(),d("datalist",ie,[(m(!0),d(L,null,B(v.value,(c,_)=>(m(),d("option",{value:c,key:_},null,8,re))),128))])):k("",!0),o("button",{class:"btn btn-dark",type:"button",onClick:S},t[3]||(t[3]=[o("i",{class:"bi bi-search"},null,-1)]))])]),y(O,{categories:f.value,currentItem:l.value,onCategorySelected:$},null,8,["categories","currentItem"]),o("div",ce,[o("div",ue,[y(oe,{locations:i.value,currentLocation:r.value},null,8,["locations","currentLocation"])]),y(Q,{onFilterSelected:D,role:a.role,items:s.value,"onUpdate:items":t[1]||(t[1]=c=>s.value=c),category:u.value,"onUpdate:category":t[2]||(t[2]=c=>u.value=c)},null,8,["role","items","category"])]),y(R,{items:s.value},null,8,["items"]),s.value.length===0?(m(),d("div",de,t[5]||(t[5]=[o("h1",{class:"text-dark text-center text-muted"},"No item found...",-1)]))):k("",!0)])]),_:1},8,["isHavePending"])],64))}},_e=F(me,[["__scopeId","data-v-e8ddaa74"]]);export{_e as default};
